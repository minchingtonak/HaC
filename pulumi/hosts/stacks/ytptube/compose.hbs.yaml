services:
  ytptube:
    user: 0:0
    image: ghcr.io/arabcoders/ytptube:v0.11.1@sha256:3a1afcbb4f28eacf96b8ce51ab67083de00c752619ef77ed956887c3d0619960
    container_name: ytptube
    restart: unless-stopped
    # ports:
    #   - "8081:8081"
    volumes:
      - /docker/ytptube/config:/config:rw
      - /mnt/podcasts:/downloads:rw
    tmpfs:
      - /tmp
    labels:
      - traefik.enable=true
      - traefik.http.routers.ytptube.rule=Host(`{{{domainForApp "ytptube"}}}`)
      - traefik.http.routers.ytptube.entrypoints=https
      - traefik.http.routers.ytptube.tls=true
      - traefik.http.routers.ytptube.tls.certresolver=porkbun
      - traefik.http.routers.ytptube.service=ytptube
      - traefik.http.services.ytptube.loadbalancer.server.port=8081
    networks:
      - traefik

networks:
  traefik:
    external: true
